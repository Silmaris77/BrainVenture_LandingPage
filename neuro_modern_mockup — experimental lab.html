<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrainVenture - Neuro-Lab Experimental | Lab Neuronauki</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;900&family=Inter:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        :root {
            --bg-color: #0b101a;
            --accent-cyan: #1E73B9;
            /* Analysis Blue */
            --accent-magenta: #B10A4A;
            /* Emotion Burgundy */
            --accent-blue: #0E2A47;
            /* Structure Navy */
            --glass-bg: rgba(14, 42, 71, 0.4);
            --glass-border: rgba(30, 115, 185, 0.2);
            --text-main: #f8f9fa;
            --text-dim: #94a3b8;
            --font-heading: 'Outfit', sans-serif;
            --font-main: 'Inter', sans-serif;
            --card-glow: rgba(30, 115, 185, 0.15);

            /* Lab Effects State */
            --focus-blur: 0px;
            --stress-sat: 1;
            --stress-red: 0;
            --font-weight-dyn: 400;
            --letter-spacing-dyn: 0px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: var(--font-main);
            overflow-x: hidden;
            line-height: 1.6;
            transition: filter 0.5s ease;
        }

        /* Experimental Filters Layer */
        .lab-filters-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 1000;
            backdrop-filter: blur(var(--focus-blur));
            -webkit-backdrop-filter: blur(var(--focus-blur));
            mask-image: radial-gradient(circle 200px at var(--mouse-x, 0) var(--mouse-y, 0), transparent 0%, black 100%);
            -webkit-mask-image: radial-gradient(circle 200px at var(--mouse-x, 0) var(--mouse-y, 0), transparent 0%, black 100%);
            display: none;
            /* Controlled by JS */
        }

        body.stress-mode {
            filter: saturate(var(--stress-sat)) contrast(1.1);
        }

        body.stress-mode::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            box-shadow: inset 0 0 200px rgba(255, 0, 0, var(--stress-red));
            pointer-events: none;
            z-index: 9999;
            transition: 0.5s;
        }

        canvas#neural-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.6;
            filter: blur(0.3px);
        }

        .ambient-glow {
            position: fixed;
            width: 800px;
            height: 800px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(14, 42, 71, 0.4) 0%, transparent 70%);
            z-index: -1;
            filter: blur(100px);
            pointer-events: none;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 30px;
            position: relative;
        }

        /* --- Control Panel --- */
        #lab-control-panel {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 320px;
            background: rgba(13, 17, 26, 0.85);
            backdrop-filter: blur(20px);
            border: 1px solid var(--accent-cyan);
            border-radius: 30px;
            padding: 25px;
            z-index: 10000;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5), 0 0 20px rgba(30, 115, 185, 0.2);
            transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        #lab-control-panel h3 {
            font-family: var(--font-heading);
            font-size: 1.2rem;
            color: var(--accent-cyan);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Ripple Effect */
        .ripple {
            position: fixed;
            width: 2px;
            height: 2px;
            background: rgba(30, 115, 185, 0.4);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            animation: ripple-anim 1.2s cubic-bezier(0, 0, 0.2, 1) forwards;
        }

        @keyframes ripple-anim {
            0% {
                transform: scale(0);
                opacity: 0.8;
            }

            100% {
                transform: scale(100);
                opacity: 0;
            }
        }

        .toggle-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .toggle-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            cursor: pointer;
            transition: 0.3s;
        }

        .toggle-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .toggle-item span {
            font-size: 0.85rem;
            font-weight: 600;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 40px;
            height: 22px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #333;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 14px;
            width: 14px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked+.slider {
            background-color: var(--accent-cyan);
        }

        input:checked+.slider:before {
            transform: translateX(18px);
        }

        /* --- Navigation --- */
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 40px;
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
            transition: 0.3s;
        }

        .logo img {
            height: 48px;
            width: auto;
            display: block;
        }

        .logo:hover {
            filter: brightness(1.2);
        }

        /* --- Hero --- */
        header.hero-section {
            text-align: center;
            margin-bottom: 100px;
            padding-top: 40px;
        }

        h1 {
            font-family: var(--font-heading);
            font-size: clamp(3rem, 7vw, 6rem);
            font-weight: 900;
            margin-bottom: 30px;
            line-height: 1;
            letter-spacing: var(--letter-spacing-dyn);
            font-weight: var(--font-weight-dyn);
        }

        h1 span {
            color: var(--accent-cyan);
            -webkit-text-stroke: 1px var(--accent-cyan);
            -webkit-text-fill-color: transparent;
        }

        /* --- Bento Grid --- */
        .bento-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-auto-rows: minmax(180px, auto);
            gap: 30px;
        }

        .card {
            background: var(--glass-bg);
            backdrop-filter: blur(25px) saturate(180%);
            border: 1px solid var(--glass-border);
            border-radius: 40px;
            padding: 45px;
            position: relative;
            overflow: hidden;
            transition: 0.5s;
            display: flex;
            flex-direction: column;
        }

        .card:hover {
            transform: translateY(-8px);
            border-color: var(--accent-cyan);
            box-shadow: 0 40px 80px rgba(0, 0, 0, 0.5), 0 0 30px var(--card-glow);
        }

        .card-title {
            font-family: var(--font-heading);
            font-size: 1.8rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 20px;
        }

        /* Grid Spans */
        .col-2 {
            grid-column: span 2;
        }

        .row-2 {
            grid-row: span 2;
        }

        footer {
            margin-top: 150px;
            padding: 100px 0 40px;
            border-top: 1px solid var(--glass-border);
            text-align: center;
        }

        /* Neuro ripples */
        .ripple {
            position: fixed;
            border: 2px solid var(--accent-cyan);
            border-radius: 50%;
            pointer-events: none;
            animation: ripple-out 1.2s ease-out forwards;
            z-index: 9998;
        }

        @keyframes ripple-out {
            0% {
                width: 0;
                height: 0;
                opacity: 1;
                transform: translate(-50%, -50%);
            }

            100% {
                width: 300px;
                height: 300px;
                opacity: 0;
                transform: translate(-50%, -50%);
            }
        }

        /* Amygdala Alarm - Screen Shake */
        @keyframes amygdala-shake {
            0% {
                transform: translate(0, 0);
            }

            10% {
                transform: translate(-2px, -2px) rotate(-0.5deg);
            }

            20% {
                transform: translate(2px, 2px) rotate(0.5deg);
            }

            30% {
                transform: translate(-3px, 1px) rotate(-1deg);
            }

            40% {
                transform: translate(3px, -1px) rotate(1deg);
            }

            50% {
                transform: translate(-1px, 2px) rotate(-0.5deg);
            }

            60% {
                transform: translate(1px, -2px) rotate(0.5deg);
            }

            100% {
                transform: translate(0, 0);
            }
        }

        body.amygdala-active .container {
            animation: amygdala-shake 0.15s infinite;
        }

        /* Mirror Neuron Trail */
        .mirror-trail {
            position: fixed;
            width: 10px;
            height: 10px;
            background: var(--accent-cyan);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9997;
            opacity: 0.5;
            filter: blur(2px);
            transition: transform 0.1s linear;
        }

        /* Dopamine Glow Enhancements */
        .card.dopamine-boost {
            border-color: var(--accent-magenta) !important;
            box-shadow: 0 0 50px var(--accent-magenta) !important;
            transform: scale(1.02) translateY(-10px) !important;
        }

        @media (max-width: 1200px) {
            .bento-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .col-2 {
                grid-column: span 1;
            }
        }
    </style>
</head>

<body class="stress-mode">

    <div class="lab-filters-overlay" id="ras-overlay"></div>
    <canvas id="neural-canvas"></canvas>

    <div id="lab-control-panel">
        <h3><i class="fa fa-flask"></i> Neuro-Lab Control</h3>
        <div class="toggle-group">
            <label class="toggle-item">
                <span>Attention RAS (Fog)</span>
                <div class="switch">
                    <input type="checkbox" id="toggle-ras" onchange="toggleEffect('ras', this.checked)">
                    <span class="slider"></span>
                </div>
            </label>
            <label class="toggle-item">
                <span>Dynamic Typography</span>
                <div class="switch">
                    <input type="checkbox" id="toggle-typo" onchange="toggleEffect('typo', this.checked)">
                    <span class="slider"></span>
                </div>
            </label>
            <label class="toggle-item">
                <span>Cognitive Stress Mode</span>
                <div class="switch">
                    <input type="checkbox" id="toggle-stress" onchange="toggleEffect('stress', this.checked)">
                    <span class="slider"></span>
                </div>
            </label>
            <label class="toggle-item">
                <span>Neural Feedback Ripples</span>
                <div class="switch">
                    <input type="checkbox" id="toggle-ripples" onchange="toggleEffect('ripples', this.checked)">
                    <span class="slider"></span>
                </div>
            </label>
            <label class="toggle-item">
                <span>Dopamine Glow (Hover)</span>
                <div class="switch">
                    <input type="checkbox" id="toggle-dopamine" onchange="toggleEffect('dopamine', this.checked)">
                    <span class="slider"></span>
                </div>
            </label>
            <label class="toggle-item">
                <span>Amygdala Alarm (Shake)</span>
                <div class="switch">
                    <input type="checkbox" id="toggle-amygdala" onchange="toggleEffect('amygdala', this.checked)">
                    <span class="slider"></span>
                </div>
            </label>
            <label class="toggle-item">
                <span>Mirror Neuron Trail</span>
                <div class="switch">
                    <input type="checkbox" id="toggle-mirror" onchange="toggleEffect('mirror', this.checked)">
                    <span class="slider"></span>
                </div>
            </label>
        </div>
        <p style="font-size: 0.7rem; color: var(--text-dim); margin-top: 20px; text-align: center; opacity: 0.6;">
            Eksperymentalne funkcje interakcyjne BrainVenture</p>
    </div>

    <div class="container">
        <nav>
            <a href="#" class="logo">
                <img src="file:///C:/Users/pksia/.gemini/antigravity/brain/370c6833-3ed3-4eac-8578-e8ef1115ba56/logo_transparent.png"
                    alt="BrainVenture">
                <span
                    style="margin-left: 10px; font-family: var(--font-heading); font-size: 1.5rem; font-weight: 700; color: #fff; opacity: 0.6;">Lab</span>
            </a>
            <div
                style="font-size: 0.8rem; color: var(--accent-cyan); font-weight: 700; border: 1px solid var(--accent-cyan); padding: 5px 15px; border-radius: 20px;">
                EXPERIMENTAL BUILD v1.0</div>
        </nav>

        <header class="hero-section">
            <span
                style="letter-spacing: 5px; color: var(--accent-magenta); font-weight: 700; text-transform: uppercase; font-size: 0.8rem;">Science
                Meets Experience</span>
            <h1>Gdy Nauka Spotyka <span>Przywództwo</span></h1>
            <p style="font-size: 1.4rem; color: var(--text-dim); max-width: 800px; margin: 30px auto;">Odkryj mechanizmy
                sterujące Twoją uwagą, stresem i decyzjami. Włącz efekty w panelu po prawej, by poczuć działanie swojego
                mózgu w wersji webowej.</p>
        </header>

        <main class="bento-grid">
            <section class="card col-2 row-2">
                <h2 class="card-title">Filtr Uwagi (RAS)</h2>
                <p style="color: var(--text-dim);">Reticular Activating System to "sekretarka" Twojego mózgu. Decyduje o
                    tym, co przebija się do świadomości.</p>
                <p style="color: var(--text-dim); margin-top: 20px;">Włącz <strong>Attention RAS</strong>, by zobaczyć
                    jak mózg bluruje tło, by skupić się tylko na tym, co wskazuje kursor.</p>
            </section>

            <section class="card row-2">
                <h2 class="card-title">Stres Poznawczy</h2>
                <p style="color: var(--text-dim);">Przeciążenie informacyjne zmniejsza saturację rzeczywistości. Tryb
                    **Stress Mode** symuluje tunelowe widzenie i spadek kolorów przy wysokim napięciu.</p>
            </section>

            <section class="card">
                <h3 class="card-title">Neuro-Feedback</h3>
                <p style="color: var(--text-dim);">Mózg uwielbia pętle zwrotne. Każde kliknięcie w tym trybie generuje
                    "fale neuronalne" (ripples).</p>
            </section>

            <section class="card">
                <h3 class="card-title">Typografia</h3>
                <p style="color: var(--text-dim);">Szybki scroll symuluje pośpiech – czcionka reaguje rozciągnięciem,
                    oddając dynamikę procesu.</p>
            </section>
        </main>

        <footer>
            <p>© 2025 BrainVenture Experimental Lab | Built for Neuroscience Enthusiasts</p>
        </footer>
    </div>

    <!-- Background & Effects Logic -->
    <script>
        const canvas = document.getElementById('neural-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        let pulses = [];
        let mouse = { x: 0, y: 0 };
        let lastScrollY = window.scrollY;
        let scrollVelocity = 0;

        let effects = {
            ras: false,
            typo: false,
            stress: false,
            ripples: false,
            dopamine: false,
            amygdala: false,
            mirror: false
        };

        const trailNodes = [];
        const MAX_TRAIL = 15;

        function toggleEffect(name, state) {
            effects[name] = state;
            if (name === 'ras') {
                document.getElementById('ras-overlay').style.display = state ? 'block' : 'none';
                document.documentElement.style.setProperty('--focus-blur', state ? '120px' : '0px');
            }
            if (name === 'stress') {
                document.body.classList.toggle('stress-mode', state);
                updateStressUI();
            }
            if (name === 'amygdala') {
                document.body.classList.toggle('amygdala-active', state);
            }
            if (name === 'mirror' && !state) {
                trailNodes.forEach(n => n.remove());
                trailNodes.length = 0;
            }
        }

        window.addEventListener('mousemove', (e) => {
            const x = e.clientX;
            const y = e.clientY;
            document.documentElement.style.setProperty('--mouse-x', `${x}px`);
            document.documentElement.style.setProperty('--mouse-y', `${y}px`);

            if (effects.mirror) {
                const node = document.createElement('div');
                node.className = 'mirror-trail';
                node.style.left = `${x}px`;
                node.style.top = `${y}px`;
                document.body.appendChild(node);
                trailNodes.push(node);
                if (trailNodes.length > MAX_TRAIL) {
                    const old = trailNodes.shift();
                    old.remove();
                }
                trailNodes.forEach((n, i) => {
                    n.style.opacity = (i / MAX_TRAIL) * 0.5;
                    n.style.transform = `scale(${i / MAX_TRAIL})`;
                });
            }
        });

        // Dopamine Glow Implementation
        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('mouseenter', () => {
                if (effects.dopamine) card.classList.add('dopamine-boost');
            });
            card.addEventListener('mouseleave', () => {
                card.classList.remove('dopamine-boost');
            });
        });

        window.addEventListener('scroll', () => {
            scrollVelocity = Math.abs(window.scrollY - lastScrollY);
            lastScrollY = window.scrollY;

            if (effects.typo) {
                const weight = 400 + Math.min(scrollVelocity * 2, 500);
                const spacing = Math.min(scrollVelocity / 10, 20);
                document.documentElement.style.setProperty('--font-weight-dyn', weight);
                document.documentElement.style.setProperty('--letter-spacing-dyn', `${spacing}px`);
            }
        });

        window.addEventListener('click', (e) => {
            if (effects.ripples) {
                const rip = document.createElement('div');
                rip.className = 'ripple';
                rip.style.left = `${e.clientX}px`;
                rip.style.top = `${e.clientY}px`;
                document.body.appendChild(rip);
                setTimeout(() => rip.remove(), 1200);
            }

            // Spawn neurons logic (from previous version)
            for (let i = 0; i < 2; i++) {
                const p = new Particle(true);
                p.x = e.clientX + (Math.random() - 0.5) * 50;
                p.y = e.clientY + (Math.random() - 0.5) * 50;
                particles.push(p);
            }
        });

        function updateStressUI() {
            if (effects.stress) {
                document.documentElement.style.setProperty('--stress-sat', '0.2');
                document.documentElement.style.setProperty('--stress-red', '0.1');
            } else {
                document.documentElement.style.setProperty('--stress-sat', '1');
                document.documentElement.style.setProperty('--stress-red', '0');
            }
        }

        /* Neural Background Logic */
        class Particle {
            constructor(isTemp = false) {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.radius = Math.random() * 2 + 1;
                this.isTemp = isTemp;
                this.life = 1.0;
                this.neighbors = [];
                this.glow = 0;
            }
            draw() {
                const alpha = this.isTemp ? this.life : 1.0;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(30, 115, 185, ${(0.3 + this.glow) * alpha})`;
                ctx.fill();
                if (this.glow > 0) this.glow *= 0.9;
                if (this.isTemp) this.life -= 0.005;
            }
        }

        class Pulse {
            constructor(p1, p2) {
                this.p1 = p1; this.p2 = p2;
                this.progress = 0;
            }
            update() {
                this.progress += 0.02;
                if (this.progress >= 1) { this.p2.glow = 1; return false; }
                return true;
            }
            draw() {
                const x = this.p1.x + (this.p2.x - this.p1.x) * this.progress;
                const y = this.p1.y + (this.p2.y - this.p1.y) * this.progress;
                ctx.beginPath();
                ctx.arc(x, y, 4, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(30, 115, 185, 0.8)`;
                ctx.fill();
            }
        }

        function init() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            particles = [];
            for (let i = 0; i < 150; i++) particles.push(new Particle());

            particles.forEach(p => {
                particles.forEach(p2 => {
                    const d = Math.sqrt((p.x - p2.x) ** 2 + (p.y - p2.y) ** 2);
                    if (d < 150 && p !== p2) p.neighbors.push(p2);
                });
            });
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles = particles.filter(p => !p.isTemp || p.life > 0);

            particles.forEach(p => {
                p.neighbors.forEach(n => {
                    if (n.life <= 0) return;
                    ctx.beginPath();
                    ctx.strokeStyle = `rgba(30, 115, 185, 0.15)`;
                    ctx.moveTo(p.x, p.y); ctx.lineTo(n.x, n.y); ctx.stroke();
                });
                p.draw();
            });

            if (Math.random() < 0.1) {
                const p = particles[Math.floor(Math.random() * particles.length)];
                if (p.neighbors.length > 0) pulses.push(new Pulse(p, p.neighbors[Math.floor(Math.random() * p.neighbors.length)]));
            }

            pulses = pulses.filter(p => {
                const ok = p.update();
                p.draw(); return ok;
            });

            // Smoothly return typo effects to normal
            if (effects.typo) {
                scrollVelocity *= 0.95;
                const weight = 400 + Math.min(scrollVelocity * 2, 500);
                const spacing = Math.min(scrollVelocity / 10, 20);
                document.documentElement.style.setProperty('--font-weight-dyn', weight);
                document.documentElement.style.setProperty('--letter-spacing-dyn', `${spacing}px`);
            }

            requestAnimationFrame(animate);
        }

        window.addEventListener('resize', init);
        init(); animate();
    </script>
</body>

</html>